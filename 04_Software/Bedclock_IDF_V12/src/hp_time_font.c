#include <stdio.h>
#include "hp_time_font.h"
#include "hp_pixel_buffer.h"

uint8_t time_font_0_bytes[] = {
    0x7c,0x00,0xfe,0x00,0x83,0x01,0x83,0x01,0x83,0x01,0x83,0x01,0x83,0x01,0x83,
    0x01,0x83,0x01,0x83,0x01,0x83,0x01,0x83,0x01,0x83,0x01,0x83,0x01,0xfe,0x00,
    0x7c,0x00 };

uint8_t time_font_1_bytes[] = {
    0x1c,0x1e,0x1f,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,0x18,
    0x18 };

uint8_t time_font_2_bytes[] = {
    0x7c,0x00,0xfe,0x00,0xc3,0x01,0x81,0x01,0x80,0x01,0x80,0x01,0xc0,0x00,0x60,
    0x00,0x60,0x00,0x30,0x00,0x18,0x00,0x0c,0x00,0x0c,0x00,0x06,0x00,0xff,0x01,
    0xff,0x01 };

uint8_t time_font_3_bytes[] = {
    0x7c,0x00,0xfe,0x00,0x82,0x00,0x83,0x01,0x81,0x01,0x80,0x01,0xc0,0x00,0x70,
    0x00,0xc0,0x00,0x80,0x01,0x80,0x01,0x81,0x01,0x83,0x01,0x82,0x01,0xfe,0x00,
    0x7c,0x00 };

uint8_t time_font_4_bytes[] = {
    0x60,0x00,0x60,0x00,0x30,0x00,0x30,0x00,0x18,0x00,0x18,0x00,0x0c,0x00,0x8c,
    0x01,0x84,0x01,0x86,0x01,0x86,0x01,0x83,0x01,0xff,0x03,0xff,0x03,0x80,0x01,
    0x80,0x01 };

uint8_t time_font_5_bytes[] = {
    0xff,0x00,0xff,0x00,0x03,0x00,0x03,0x00,0x03,0x00,0x7b,0x00,0xff,0x00,0x83,
    0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x83,0x01,0xc3,0x01,0xfe,0x00,
    0x7c,0x00 };

uint8_t time_font_6_bytes[] = {
    0x70,0x00,0x30,0x00,0x18,0x00,0x18,0x00,0x0c,0x00,0x0c,0x00,0x3e,0x00,0xfe,
    0x00,0xc7,0x00,0x83,0x01,0x83,0x01,0x83,0x01,0x83,0x01,0x83,0x00,0xfe,0x00,
    0x7c,0x00 };

uint8_t time_font_7_bytes[] = {
    0xff,0x01,0xff,0x01,0xc3,0x00,0xc3,0x00,0xc3,0x00,0xc0,0x00,0x60,0x00,0x60,
    0x00,0x60,0x00,0x20,0x00,0x30,0x00,0x30,0x00,0x10,0x00,0x18,0x00,0x18,0x00,
    0x18,0x00 };

uint8_t time_font_8_bytes[] = {
    0x78,0x00,0xfe,0x01,0x87,0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x86,0x01,0xfc,
    0x00,0xfe,0x01,0x86,0x01,0x03,0x03,0x03,0x03,0x03,0x03,0x87,0x03,0xfe,0x01,
    0xf8,0x00 };

uint8_t time_font_9_bytes[] = {
    0x7c,0x00,0xfe,0x00,0xc7,0x00,0x83,0x01,0x83,0x01,0x83,0x01,0x83,0x01,0xc6,
    0x00,0xfc,0x00,0xc0,0x00,0x60,0x00,0x60,0x00,0x30,0x00,0x30,0x00,0x18,0x00,
    0x18,0x00 };

uint8_t time_font_colon_bytes[] = {
    0x00,0x00,0x00,0x00,0x03,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,
    0x03 };

uint8_t time_font_space_bytes[] = {
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00 };

const hp_bitmap_t time_font_glyphs[] = {
    { .width = 10, .height = 16, .buffer = time_font_0_bytes },      //  0 = '0'
    { .width =  7, .height = 16, .buffer = time_font_1_bytes },      //  1 = '1'
    { .width = 10, .height = 16, .buffer = time_font_2_bytes },      //  2 = '2'
    { .width = 10, .height = 16, .buffer = time_font_3_bytes },      //  3 = '3'
    { .width = 11, .height = 16, .buffer = time_font_4_bytes },      //  4 = '4'
    { .width = 10, .height = 16, .buffer = time_font_5_bytes },      //  5 = '5'
    { .width = 10, .height = 16, .buffer = time_font_6_bytes },      //  6 = '6'
    { .width = 10, .height = 16, .buffer = time_font_7_bytes },      //  7 = '7'
    { .width = 11, .height = 16, .buffer = time_font_8_bytes },      //  8 = '8'
    { .width = 10, .height = 16, .buffer = time_font_9_bytes },      //  9 = '9'
    { .width =  3, .height = 16, .buffer = time_font_colon_bytes },  // 10 = ':'
    { .width =  4, .height = 16, .buffer = time_font_space_bytes },  // 11 = ' '
};

 const char char_map[] = {
    ['0'] = 0, ['1'] = 1, ['2'] = 2, ['3'] = 3, ['4'] = 4,
    ['5'] = 5, ['6'] = 6, ['7'] = 7, ['8'] = 8, ['9'] = 9,
    [':'] = 10, [' '] = 11
};

// Function that returns a bitmap given a character
const hp_bitmap_t *hp_time_font(char c) {
    if (char_map[c]) {
        return &time_font_glyphs[char_map[c]];
    } else {
        return &time_font_glyphs[char_map[' ']];
    }
}
